<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>入力画面</title>

<style type="text/css">
<!--
.has-error {
	background-color: red;
}

.error_area {
	background-color: gray;
}
-->
</style>
</head>
<body>
	<!-- formの外の場合formオブジェクトを${demoForm}指定　form内であれば * でOK -->
	<div th:if="${#fields.hasErrors('${demoForm.*}')}" class="error_area">
		<ul th:if="${#fields.hasErrors('${demoForm.*}')}">
			<li th:each="err : ${#fields.errors('${demoForm.*}')}"
				th:text="${err}"></li>
		</ul>
	</div>
	<p>下記必要事項を記載の上、「確認」ボタンを押下してください。</p>
	<br />
	<form method="post" th:action="@{/confirm}" th:object="${demoForm}">
		姓： <input type="text" th:value="*{lastName}" th:field="*{lastName}"
			th:classappend="${#fields.hasErrors('lastName')} ? 'has-error'" />
		名： <input type="text" th:value="*{firstName}" th:field="*{firstName}"
			th:classappend="${#fields.hasErrors('firstName')} ? 'has-error'" />
		<br /> 生年月日： <input type="text" th:value="*{birthYear}" size="4"
			maxlength="4" th:field="*{birthYear}"
			th:classappend="${#fields.hasErrors('birthYear')} ? 'has-error'" />年
		<select th:field="*{birthMonth}"
			th:classappend="${#fields.hasErrors('birthMonth')} ? 'has-error'">
			<option value="">---</option>
			<option th:each="item : *{getMonthItems()}" th:value="${item.key}"
				th:text="${item.value}" />
		</select>月 <select th:field="*{birthDay}"
			th:classappend="${#fields.hasErrors('birthDay')} ? 'has-error'">
			<option value="">---</option>
			<option th:each="item : *{getDayItems()}" th:value="${item.key}"
				th:text="${item.value}" />
		</select>日 <br /> 性別：
		<for th:each="item : *{getSexItems()}"> <input type="radio"
			th:value="${item.key}" th:text="${item.value}" th:field="*{sex}" />
		</for>
		<br />
		<div style="float: left;">入力確認：</div>
		<div style="float: left; width: 20px; height: 20px;"
			th:classappend="${#fields.hasErrors('checked')} ? 'has-error'">
			<input type="checkbox" th:value="確認済" th:field="*{checked}" />
		</div>
		<br /> <br /> <input type="submit" value="確認" />
	</form>
</body>
</html>